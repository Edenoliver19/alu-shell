#!/usr/bin/env bash
# Robust version: counts IP and HTTP code occurrences in Apache logs
# Handles small, big, and non-standard logs

awk 'NF>=9 {ip=$1; code=$9; if(code ~ /^[0-9]+$/) count[ip" "code]++} 
     END {for (k in count) printf "%6d %s\n", count[k], k}' apache-access.log | sort -rn

